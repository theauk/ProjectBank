@page "/TagGroupCreation"
@using System.Text.Json

<div class="row">
    <div class="col-xl-6">
        <div class="row">
            <div class="col">
                <RadzenTemplateForm TItem="TagGroup" Data=@_tagGroup Submit=@OnSubmit InvalidSubmit=@OnInvalidSubmit>
                    <div class="row" style="margin-bottom: 48px">
                        <div class="col-md-4 align-right">
                            <RadzenLabel Text="Tag group Name"/>
                        </div>
                        <div class="col">
                            <RadzenTextBox style="display: block" Name="TagGroupName" @bind-Value=@_tagGroup.Name />
                            <RadzenRequiredValidator Component="TagGroupName" Text="Tag group name is required" />
                        </div>
                    </div>
                    <div class="row" style="margin-bottom: 48px">
                        <div class="col-md-4">
                            <RadzenLabel Text="Predefined tags"/>
                        </div>
                        <div class="col">
                            <TagSelector></TagSelector>
                        </div>
                    </div>
                    <div class="row" style="margin-bottom: 48px">
                        <div class="col-md-4">
                            <RadzenLabel Text="Supervisor tags limit"/>
                        </div>
                        <div class="col">
                            <RadzenNumeric TValue="int" Min="0" />
                        </div>
                    </div>
                    <div class="row" style="margin-bottom: 48px">
                        <div class="col-md-4">
                            <RadzenLabel Text="Supervisors can add tags to the tag group"/>
                        </div>
                        <div class="col">
                            <RadzenCheckBox @bind-Value=@_tagGroup.SupervisorCanAdd  Name="SupervisorCanAdd" TValue="bool" />
                        </div>
                    </div>
                    <div class="row" style="margin-bottom: 48px">
                        <div class="col-md-4">
                            <RadzenLabel Text="Required in project"/>
                        </div>
                        <div class="col">
                            <RadzenCheckBox @bind-Value=@_tagGroup.RequiredInProject  Name="RequiredInProject" TValue="bool" />
                        </div>
                    </div>
                    <RadzenButton ButtonType="Radzen.ButtonType.Submit" Text="Submit"></RadzenButton>
                </RadzenTemplateForm>
            </div>
        </div>
    </div>
</div>

@code {

    class TagGroup
    {
        public string Name { get; set; }
        public string LastName { get; set; }
        public bool SupervisorCanAdd { get; set; }
        public bool RequiredInProject { get; set; }
    }

    TagGroup _tagGroup = new TagGroup();

    void OnSubmit(TagGroup tagGroup)
    {
        Console.WriteLine($"Submit: {JsonSerializer.Serialize(tagGroup, new JsonSerializerOptions() {WriteIndented = true})}");
    }

    void OnInvalidSubmit(FormInvalidSubmitEventArgs args)
    {
        Console.WriteLine($"InvalidSubmit: {JsonSerializer.Serialize(args, new JsonSerializerOptions() {WriteIndented = true})}");
    }

}